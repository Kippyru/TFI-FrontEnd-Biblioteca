<main class="max-w-7xl mx-auto p-6 text-white min-h-screen bg-gray-900">
  <header class="flex items-center gap-3 pb-6">
    <div class="grid size-12 place-items-center rounded-lg bg-zinc-800">üë•</div>
    <h1 class="text-3xl md:text-4xl font-bold">Gesti√≥n de Socios</h1>
  </header>

  <!-- Estado de carga -->
  <div *ngIf="cargando" class="text-center text-gray-400 py-10">
    Cargando socios...
  </div>

  <!-- Error -->
  <div *ngIf="!cargando && error" class="text-center text-red-400 pb-4">
    ‚ö†Ô∏è Error al conectar con el backend.
  </div>

  <!-- Agregar socio -->
  <section *ngIf="!cargando && !socioEditando" class="mb-10 bg-zinc-900/80 p-6 rounded-xl border border-zinc-800">
    <h2 class="text-2xl font-semibold mb-4">Agregar nuevo socio</h2>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
      <input
        [(ngModel)]="nuevoSocio.nombre"
        placeholder="Nombre *"
        class="p-3 rounded bg-zinc-800 border border-zinc-700 w-full"
      />
      <input
        [(ngModel)]="nuevoSocio.apellido"
        placeholder="Apellido *"
        class="p-3 rounded bg-zinc-800 border border-zinc-700 w-full"
      />
      <input
        [(ngModel)]="nuevoSocio.email"
        placeholder="Email *"
        class="p-3 rounded bg-zinc-800 border border-zinc-700 w-full"
      />
      <input
        [(ngModel)]="nuevoSocio.telefono"
        placeholder="Tel√©fono"
        class="p-3 rounded bg-zinc-800 border border-zinc-700 w-full"
      />
      <input
        [(ngModel)]="nuevoSocio.direccion"
        placeholder="Direcci√≥n"
        class="p-3 rounded bg-zinc-800 border border-zinc-700 w-full"
      />
    </div>

    <div class="flex justify-end mt-6">
      <button
        (click)="agregarSocio()"
        class="bg-indigo-600 hover:bg-indigo-500 px-6 py-2 rounded-lg font-medium transition"
      >
        ‚ûï Agregar Socio
      </button>
    </div>
  </section>

  <!-- Tabla de socios -->
  <section *ngIf="!cargando && !socioEditando">
    <table class="w-full border border-zinc-700 rounded-lg overflow-hidden">
      <thead class="bg-zinc-800 text-gray-300">
        <tr>
          <th class="p-3 text-left">Nombre</th>
          <th class="p-3 text-left">Email</th>
          <th class="p-3 text-left">Tel√©fono</th>
          <th class="p-3 text-left">Direcci√≥n</th>
          <th class="p-3 text-center">Estado</th>
          <th class="p-3 text-center">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let socio of socios"
          class="border-t border-zinc-700 hover:bg-zinc-800/60 transition"
        >
          <td class="p-3">{{ socio.nombre }} {{ socio.apellido }}</td>
          <td class="p-3">{{ socio.email }}</td>
          <td class="p-3">{{ socio.telefono || '-' }}</td>
          <td class="p-3">{{ socio.direccion || '-' }}</td>
          <td class="p-3 text-center">
            <span
              [ngClass]="{
                'text-green-400': socio.activo,
                'text-red-400': !socio.activo
              }"
              >{{ socio.activo ? 'Activo' : 'Inactivo' }}</span
            >
          </td>
          <td class="p-3 text-center flex justify-center gap-2">
            <button
              (click)="editarSocio(socio)"
              class="bg-blue-600 hover:bg-blue-500 px-3 py-1 rounded text-sm"
              title="Editar socio"
            >
              Editar
            </button>
            <button
              (click)="desactivarSocio(socio)"
              class="bg-yellow-600 hover:bg-yellow-500 px-3 py-1 rounded text-sm"
              [disabled]="!socio.activo"
              title="Desactivar socio"
            >
              Desactivar
            </button>
            <button
              (click)="eliminarSocio(socio.id)"
              class="bg-red-600 hover:bg-red-500 px-3 py-1 rounded text-sm"
              title="Eliminar socio"
            >
              Eliminar
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </section>

  <!-- Formulario de edici√≥n -->
  <section *ngIf="socioEditando" class="mt-10 bg-zinc-900/80 p-6 rounded-xl border border-zinc-800">
    <h2 class="text-2xl font-semibold mb-4">Editar Socio</h2>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
      <input
        [(ngModel)]="socioEditando.nombre"
        placeholder="Nombre"
        class="p-3 rounded bg-zinc-800 border border-zinc-700 w-full"
      />
      <input
        [(ngModel)]="socioEditando.apellido"
        placeholder="Apellido"
        class="p-3 rounded bg-zinc-800 border border-zinc-700 w-full"
      />
      <input
        [(ngModel)]="socioEditando.email"
        placeholder="Email"
        class="p-3 rounded bg-zinc-800 border border-zinc-700 w-full"
      />
      <input
        [(ngModel)]="socioEditando.telefono"
        placeholder="Tel√©fono"
        class="p-3 rounded bg-zinc-800 border border-zinc-700 w-full"
      />
      <input
        [(ngModel)]="socioEditando.direccion"
        placeholder="Direcci√≥n"
        class="p-3 rounded bg-zinc-800 border border-zinc-700 w-full"
      />
    </div>

    <div class="flex justify-end gap-3 mt-6">
      <button
        (click)="guardarEdicion()"
        class="bg-green-600 hover:bg-green-500 px-6 py-2 rounded-lg font-medium"
      >
        Guardar
      </button>
      <button
        (click)="cancelarEdicion()"
        class="bg-gray-700 hover:bg-gray-600 px-6 py-2 rounded-lg font-medium"
      >
        Cancelar
      </button>
    </div>
  </section>
</main>
