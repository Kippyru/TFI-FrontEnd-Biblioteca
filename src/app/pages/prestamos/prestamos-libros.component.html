<main class="max-w-[90rem] mx-auto p-6 text-white min-h-screen bg-gray-900 border-4 border-purple-500">
  <header class="flex items-center gap-3 pb-6">
    <div class="grid size-12 place-items-center rounded-lg bg-zinc-800">ğŸ“–</div>
    <h1 class="text-3xl md:text-4xl font-bold">GestiÃ³n de PrÃ©stamos</h1>
  </header>

  <!-- Lista de prÃ©stamos activos -->
  <section class="bg-zinc-900/70 p-4 rounded-xl">
    <h2 class="text-lg font-semibold mb-3">PrÃ©stamos Activos</h2>

    <ul class="divide-y divide-zinc-700">
      <li
        *ngFor="let prestamo of prestamos"
        class="py-4 flex flex-col md:flex-row md:items-center md:justify-between"
      >
        <div>
          <p class="font-semibold text-lg">{{ prestamo.libroTitulo }}</p>
          <p class="text-sm text-gray-400">Socio: {{ obtenerNombreSocio(prestamo.socioId) }}</p>
          <p class="text-sm text-gray-400">Devolver antes de: {{ prestamo.fechaDevolucionEstimada | date:'shortDate' }}</p>
          <p class="text-sm text-red-500" *ngIf="prestamo.atrasado">â° PrÃ©stamo Vencido</p>
        </div>

        <div class="flex gap-2 flex-wrap justify-end items-center mt-3 md:mt-0">
          <button
            (click)="devolverLibro(prestamo.id)"
            class="bg-green-600 hover:bg-green-500 px-3 py-1 rounded-lg"
            title="Devolver prÃ©stamo"
          >
            ğŸ” Devolver
          </button>

          <button
            (click)="renovarLibro(prestamo.id)"
            class="bg-yellow-600 hover:bg-yellow-500 px-3 py-1 rounded-lg"
            title="Renovar prÃ©stamo"
          >
            ğŸ”„ Renovar
          </button>

          <button
            (click)="eliminarPrestamo(prestamo.id)"
            class="bg-red-600 hover:bg-red-500 px-3 py-1 rounded-lg"
            title="Eliminar prÃ©stamo"
          >
            âŒ Eliminar
          </button>
        </div>
      </li>
    </ul>
  </section>

  <!-- Prestar libro -->
  <section class="mt-10 bg-zinc-900/80 p-6 rounded-xl border border-zinc-800">
    <h2 class="text-2xl font-semibold mb-4">Prestar Libro</h2>

    <div class="grid md:grid-cols-3 gap-4">
      <select
        [(ngModel)]="nuevoPrestamo.libroId"
        class="bg-zinc-800 p-3 rounded border border-zinc-700 text-white"
      >
        <option [ngValue]="null">-- Seleccionar libro --</option>
        <option *ngFor="let l of librosDisponibles" [ngValue]="l.id">{{ l.titulo }}</option>
      </select>

      <select
        [(ngModel)]="nuevoPrestamo.socioId"
        class="bg-zinc-800 p-3 rounded border border-zinc-700 text-white"
      >
        <option [ngValue]="null">-- Seleccionar socio --</option>
        <option *ngFor="let s of socios" [ngValue]="s.id">{{ s.nombre }} {{ s.apellido }}</option>
      </select>

      <input
        type="date"
        [(ngModel)]="nuevoPrestamo.fechaDevolucionEstimada"
        class="bg-zinc-800 p-3 rounded border border-zinc-700 text-white"
      />
    </div>

    <div class="flex justify-end mt-6">
      <button
        (click)="prestarLibro()"
        class="bg-indigo-600 hover:bg-indigo-500 px-6 py-2 rounded-lg font-medium transition"
      >
        â• Prestar
      </button>
    </div>
  </section>
</main>
